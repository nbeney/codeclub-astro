---

---

<div id="p5-truchet-diagonals"></div>

<script>
    import p5 from "p5";

    new p5((p) => {
        const N = 10;
        const SHOW_RECT = true;

        p.setup = function () {
            p.createCanvas(350, 350);
            p.noLoop();
        };

        p.draw = function () {
            p.background(255);
            p.strokeWeight(5);
            p.stroke("#000000");
            const size = p.width / N;

            for (let c = 0; c < 3; c += 2) {
                const x = (c * p.width) / N;
                tile_diagonal(x, 0, size, c / 2, SHOW_RECT);
            }

            for (let c = 0; c < N; c++) {
                const x = (c * p.width) / N;
                for (let r = 2; r < N; r++) {
                    const y = (r * p.height) / N;
                    const t = Math.floor(Math.random() * 4);
                    tile_diagonal(x, y, size, t, SHOW_RECT);
                }
            }
        };

        function tile_diagonal(x, y, size, type, show_rect) {
            p.push();
            p.translate(x, y);
            p.noFill();
            p.stroke("green");

            if (type === 0) {
                p.line(0, 0, size, size);
            } else {
                p.line(0, size, size, 0);
            }

            if (show_rect) {
                p.stroke(120);
                p.strokeWeight(0.5);
                p.rect(0, 0, size, size);
            }

            p.pop();
        }

        p.mousePressed = function () {
            p.redraw();
        };
    }, "p5-truchet-diagonals");
</script>
